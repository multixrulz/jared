<!DOCTYPE html>
<html>
<head>
<title>Global Configuration</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="/css/layout.css">
<link rel="stylesheet" type="text/css" href="/css/gold.css">
<link rel="shortcut icon" href="/favicon.png">
<link rel="copyright" href="/copyright.html">
<meta name="description" content="">
<meta name="generator" content="AsciiDoc Website Builder (using AsciiDoc 8.6.9)">
<meta name="author" content="Jared Henley">
<meta name="copyright" content="&copy; 2005&ndash;2015 Jared Henley">
<meta name="verify-v1" content="sOYDFF7yuYP5c4zAAejxDlHXwprCPvTXQ6CoRodicuQ=">
</head>
<body>
<div id="width">
    <div id="head">
        <div id="hd2">
            <img class="stretch" src="/img/headbg_gold.png" alt="background">
            <p>awb documentation</p>
            <img id="topimg" src="/img/sunflower.png" alt="nice pic">
        </div>
    </div>
    <div id="menu">
        <ul>
            <li><a href="/" title="Jared Henley's Website">Home</a></li>
            <li><a href="/blog" title="Jared Henley's blog">Blog</a></li>
            <li><a href="/photos" title="Photos and photography">Photos</a></li>
            <li><a href="/geek/" title="Geeky Stuff">Geek</a></li>
            <li><a href="/stuff/" title="Other Stuff">Stuff</a></li>
            <li><a href="/software/" title="Software">Software</a></li>
        </ul>
    </div>
    <div id="trail">
<ul>
<li>
<a href="../../../index.html">Jared Henley</a>
</li>
<li>
<a href="../../index.html">Software</a>
</li>
<li>
<a href="../index.html">AsciiDoc Website Builder</a>
</li>
<li>
<a href="index.html">awb documentation</a>
</li>
<li>
Global Configuration
</li>
</ul>
    </div>
    <div id="content">
<div id="awb">
    <div id="awbnav">
        <link rel="stylesheet" type="text/css" href="/software/awb/css/layout.css">
        <center><img src="/software/awb/img/awblogo.png" alt="awb logo"></center>
<ul>
<li>
<a href="/software/awb/index.html">awb Home</a>
</li>
<li>
<a href="/software/awb/about.html">About awb</a>
</li>
<li>
<a href="/software/awb/features.html">Features</a>
</li>
<li>
<a href="/software/awb/download">Downoads</a>
</li>
<li>
<a href="/software/awb/news">Releases and news</a>
</li>
<li>
<a href="/software/awb/doc/index.html">Documentation</a>
<ul>
<li>
<a href="/software/awb/doc/global.html">Global Configuration</a>
</li>
<li>
<a href="/software/awb/doc/awbdir.html">Directory Configuration</a>
</li>
<li>
<a href="/software/awb/doc/dirtypes.html">Directory Types</a>
</li>
<li>
<a href="/software/awb/doc/templates.html">Templates</a>
</li>
<li>
<a href="/software/awb/doc/commands.html">Commands</a>
</li>
<li>
<a href="/software/awb/doc/other.html">Other Features</a>
</li>
</ul>
</li>
<li>
<a href="/software/awb/samples.html">Samples</a>
</li>
</ul>
    </div>
    <div id="awbcontent">
<h1>Global Configuration</h1>
<p>To start using awb you need to set up at least one website in your user awb configuration file.  awb uses the XDG specification, so the awb configuration directory will typically be located at ~/.config/awb/.  The global configuration file is named awb.conf inside this directory.  It could look something like this:</p>
<div class="listingblock">
<pre><code>[mywebsite]
siteroot: /home/me/mywebsite
baseurl: http://my.web.site
asciidoc options: -d book -b html4
tidy: true</code></pre>
</div>
<p>This simply defines a website known to awb as "mywebsite".  The options are:</p>
<dl>
<dt>
siteroot
</dt>
<dd>
    The root directory of the awb website.  The AsciiDoc source lives in <code>siteroot/src</code>, and the html output goes to <code>siteroot/html</code>.  Temporary files are also created and deleted here during processing.
</dd>
<dt>
baseurl
</dt>
<dd>
    The url of the root of the website.  This is used for generating sitemap.xml.  Note that there is no trailing slash.
</dd>
<dt>
asciidoc options
</dt>
<dd>
    Options to be passed to AsciiDoc.  I use this to specify a custom html4.conf file in addition to the options shown in the example.
</dd>
<dt>
tidy
</dt>
<dd>
    true/false (default: false)&#8201;&#8212;&#8201;whether to use HTML tidy on the output.  If this is set true, you must also have a tidy-options file in <code>siteroot/src</code>.  See <a href="http://tidy.sourceforge.net/docs/quickref.html">http://tidy.sourceforge.net/docs/quickref.html</a> for details of what to put in this file.
</dd>
</dl>
<h2>Building your site</h2>
<p>Once you have a website configured and some source files written, simply issue the command</p>
<div class="listingblock">
<pre><code>% awb mywebsite</code></pre>
</div>
<p>awb will only rebuild HTML files that have become out of date.</p>
<p>If, for some reason, not awb doesn&#8217;t rebuild all the files that it should, you can use the -r option to force all files to be rebuilt.  It might also be a good idea to file a bug report.</p>
<p>awb has three more options:</p>
<dl>
<dt>
-d
</dt>
<dd>
    &#8220;dry run&#8221;, in which awb will scan your site and pretend to build it without actually doing anything.  This could be useful to see which files will be rebuilt, for example.
</dd>
<dt>
-c=/path/to/config/dir
</dt>
<dd>
    Specifies a configuration directory to use, instead of the default XDG directory.  This is useful for sending in bug reports, for example.
</dd>
<dt>
-l
</dt>
<dd>
    &#8220;list&#8221; all the sites defined in the configuration file.
</dd>
</dl>
    </div>
</div>
    </div>
    <div id="foot">

    <!-- Google CSE Search Box Begins  -->
    <form action="http://jared.henley.id.au/plain/searchresults.html" id="cse-search-box">
    <b>Search:</b>
    <input type="hidden" name="cx" value="003221010853661774377:xjzfkw1mw8a">
    <input type="hidden" name="cof" value="FORID:10">
    <input type="text" name="q" size="30">
    <input type="submit" name="sa" value="Search" class="button">
    </form>
    <!-- Google CSE Search Box Ends -->
<p><strong>Copyright &#169; 2005-2015 Jared Henley</strong></p>
<p>This website is best viewed in a standards-compliant web browser.  It was created using <a href="http://awb.sourceforge.net/">AsciiDoc Website Builder</a>.  DNS by <a href="http://freedns.afraid.org/">afraid.org</a>.  <a href="/credits.html">Credits</a></p>
<p><em>Last updated Thursday, June 25, 2015</em></p>
</div>
</div>
</body>
</html>
